@import model._

@(movieId: String, data: Either[String, MovieData], quotes: Either[String, Map[String, Quote]])

<!DOCTYPE html>
<html>

<head>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@@0.9.1/css/bulma.min.css">
  <meta name="viewport" content="width=device-width, initial-scale=1">
</head>

<body>
  @data match{
    case Right(movieData) => {
      <h1 class="title">Pop-Culture-Quiz Admin: @{movieData.englishTitle} (@{movieData.originalTitle})</h1>
      <h2 class="subtitle">@{components.html.IMDBLinkMovie(movieId)} @{movieData.releaseYear} @{movieData.genre.mkString(" ")}</h2>
    }
    case Left(msg) => {
      <h1 class="title">Pop-Culture-Quiz Admin: @msg</h1>
    }
  }

<section>
  @quotes match{
    case Right(quotes) => {
      <table class="table">
        <tr>
          <th>Quote Id</th>
          <th>Score</th>
          <th>Quote</th>
        </tr>
        @for((quoteId, quote) <- quotes.toSeq.sortBy(_._2.score).reverse) {
          <tr>
            <td>@{components.html.IMDBLinkQuote(movieId, quoteId)}</td>
            <td>@{(quote.score * 100).toInt}%</td>
            <td>@components.html.Quote(quote)</td>
          </tr>
        }
      </table>
    }
    case Left(msg) => { @msg }
  }
</section>
</body>
</html>
